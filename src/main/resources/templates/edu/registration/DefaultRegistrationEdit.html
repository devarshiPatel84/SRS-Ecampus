<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Registration Form</title>
</head>
<body>
    <h2>Registration Form</h2>

    <!-- Header Info -->
    <table border="1">
        <tr>
            <td><strong>Name</strong></td>
            <td th:text="${studentbean.name}">Student Name</td>
            <td><strong>Program</strong></td>
            <td th:text="${programBean.name}">Program</td>
        </tr>
        <tr>
            <td><strong>Student ID</strong></td>
            <td th:text="${studentbean.id}">ID</td>
            <td><strong>Batch</strong></td>
            <td>2022</td>
        </tr>
        <tr>
            <td><strong>Semester</strong></td>
            <td th:text="${semesterBean.name}">Semester</td>
            <td><strong>Date</strong></td>
            <td th:if="${alreadyRegistered}"
                th:text="${#temporals.format(stdregbean.registrationDate, 'dd-MMM-yyyy')}">Date</td>
            <td th:unless="${alreadyRegistered}"
                th:text="${#temporals.format(T(java.time.LocalDate).now(), 'dd-MMM-yyyy')}">Today</td>
        </tr>
    </table>

    <!-- Registered View -->
    <div th:if="${alreadyRegistered}">
            <!-- Courses Registered -->
    <h3>Courses Registered for Semester VI</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Semester</th>
                <th>Title</th>
                <th>Code</th>
                <th>Credits</th>
                <th>Register</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Semester VI</td>
                <td>Computational Finance</td>
                <td>CS408</td>
                <td>3.00</td>
                <td>ACTIVE</td>
            </tr>
            <!-- Add more rows dynamically if needed -->
        </tbody>
    </table>

    <!-- Other Courses -->
    <h3>Other Courses</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Sr. No.</th>
                <th>Course Available</th>
                <th>Register</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>1</td><td></td><td></td></tr>
            <tr><td>2</td><td></td><td></td></tr>
            <tr><td>3</td><td></td><td></td></tr>
            <tr><td>4</td><td></td><td></td></tr>
        </tbody>
    </table>

    <!-- Grade Improvement Courses -->
    <h3>Courses for Grade Improvement</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Sr. No.</th>
                <th>Course Available</th>
                <th>Register</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>1</td><td></td><td></td></tr>
            <tr><td>2</td><td></td><td></td></tr>
        </tbody>
    </table>

    <!-- Backlog Courses -->
    <h3>Backlog Courses</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Sr. No.</th>
                <th>Course Available</th>
                <th>Register</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>1</td><td></td><td></td></tr>
            <tr><td>2</td><td></td><td></td></tr>
        </tbody>
    </table>

    <!-- Audit Courses -->
    <h3>Audit Courses</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Sr. No.</th>
                <th>Audit Course</th>
                <th>Register</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>1</td><td></td><td></td></tr>
            <tr><td>2</td><td></td><td></td></tr>
        </tbody>
    </table>

    <!-- Back Button -->
    <form th:action="@{/studentRegistrations}" method="get">
        <input type="hidden" name="stdid" th:value="${studentbean.id}" />
        <button type="submit">Back</button>
    </form>

    <!-- Workflow Section -->
    <h3>Work Flow</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Responder</th>
                <th>Response</th>
                <th>Date</th>
                <th>Remark</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Santosh Pandit</td>
                <td>Fee Paid</td>
                <td>20-Jan-2025 10:23</td>
                <td>Approved</td>
            </tr>
            <tr>
                <td>Registrar</td>
                <td>Approved</td>
                <td>20-Jan-2025 09:46</td>
                <td>Approved</td>
            </tr>
            <tr>
                <td>UG Convenor</td>
                <td>Approved by Faculty</td>
                <td>20-Dec-2024 18:06</td>
                <td></td>
            </tr>
            <tr>
                <td th:text="${studentbean.name}">DEVARSHI PRAVINKUMAR PATEL</td>
                <td>Submitted</td>
                <td>20-Dec-2024 18:06</td>
                <td></td>
            </tr>
        </tbody>
    </table>
    </div>

    <!-- New Registration View -->
    <div th:unless="${alreadyRegistered}">
        <h3>Select Courses</h3>
        <form action="#" method="post">
            <table border="1">
                <thead>
                    <tr><th>Sr. No.</th><th>Course</th><th>Register</th></tr>
                </thead>
                <tbody>
                    <tr th:each="course, stat : ${availableCourses}">
                        <td th:text="${stat.count}">1</td>
                        <td>
                            <select th:name="'course' + ${stat.index}">
                                <option value="">Select</option>
                                <option th:value="${course}" th:text="${course}"></option>
                            </select>
                        </td>
                        <td><input type="checkbox" th:name="'register' + ${stat.index}" /></td>
                    </tr>
                </tbody>
            </table>

            <!-- Remarks + Submit -->
            <h3>Remarks</h3>
            <textarea name="remarks" rows="3" cols="60"></textarea>
            <br/>
            <label for="authority">Select Course Authority:</label>
            <select name="authority">
                <option value="UG Convenor">UG Convenor</option>
                <option value="Registrar">Registrar</option>
            </select>
            <br/><br/>
            <button type="submit">Submit</button>
        </form>
    </div>

    <!-- Back Button -->
    <form th:action="@{/studentRegistrations}" method="get">
        <input type="hidden" name="stdid" th:value="${studentbean.id}" />
        <button type="submit">Back</button>
    </form>
</body>
</html>
